<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Configuration reference • MockData</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="reference-config_files/libs/quarto-html/popper.min.js"></script><script src="reference-config_files/libs/quarto-html/tippy.umd.min.js"></script><link href="reference-config_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="reference-config_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Configuration reference">
<link rel="stylesheet" href="extra.css">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MockData</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/getting-started.html">Getting started with MockData</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial-config-files.html">Generating datasets from configuration files</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial-dates.html">Working with date variables</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial-missing-data.html">Missing data in health surveys</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial-garbage-data.html">Generating garbage data for validation testing</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>How-to guides</h6></li>
    <li><a class="dropdown-item" href="../articles/cchs-example.html">CCHS example</a></li>
    <li><a class="dropdown-item" href="../articles/chms-example.html">CHMS example</a></li>
    <li><a class="dropdown-item" href="../articles/demport-example.html">DemPoRT example: Survival analysis workflow</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Explanation</h6></li>
    <li><a class="dropdown-item" href="../articles/dates.html">Date variables and temporal data</a></li>
    <li><a class="dropdown-item" href="../articles/advanced-topics.html">Advanced topics</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Reference</h6></li>
    <li><a class="dropdown-item" href="../articles/reference-config.html">Configuration reference</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Big-Life-Lab/MockData/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Configuration reference</h1>




      <small class="dont-index">Source: <a href="https://github.com/Big-Life-Lab/MockData/blob/create-date-var/vignettes/reference-config.qmd" class="external-link"><code>vignettes/reference-config.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <div style="padding: 1em; background-color: #e3f2fd; border-left: 4px solid #2196F3; margin-bottom: 1em;">
<p><strong>About this vignette:</strong> This reference document provides the complete configuration schema specification. For step-by-step tutorials, see <a href="tutorial-config-files.html">Generating datasets from configuration files</a>.</p>
</div>
<section class="level2"><h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>MockData uses a two-file configuration system to define mock datasets. This reference documents the complete schema, all special codes, and validation rules.</p>
</section><section class="level2"><h2 id="file-structure">File structure<a class="anchor" aria-label="anchor" href="#file-structure"></a>
</h2>
<section class="level3"><h3 id="mock_data_config-csv">mock_data_config.csv<a class="anchor" aria-label="anchor" href="#mock_data_config-csv"></a>
</h3>
<p><strong>Purpose:</strong> Lists which variables to generate</p>
<p><strong>Required columns:</strong></p>
<table class="table caption-top" style="width:100%;">
<colgroup>
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 33%">
<col style="width: 22%">
</colgroup>
<thead><tr class="header">
<th>Column</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>uid</code></td>
<td>character</td>
<td>Unique identifier for this variable definition</td>
<td><code>"age_v1"</code></td>
</tr>
<tr class="even">
<td><code>variable</code></td>
<td>character</td>
<td>Variable name (appears as column in output)</td>
<td><code>"age"</code></td>
</tr>
<tr class="odd">
<td><code>role</code></td>
<td>character</td>
<td>Set to “enabled” to generate; for dates use “baseline-date”, “index-date”</td>
<td><code>"enabled"</code></td>
</tr>
<tr class="even">
<td><code>variableType</code></td>
<td>character</td>
<td>One of: <code>"categorical"</code>, <code>"continuous"</code> (dates use “continuous”)</td>
<td><code>"continuous"</code></td>
</tr>
<tr class="odd">
<td><code>position</code></td>
<td>integer</td>
<td>Generation order (1 = first, 2 = second, etc.)</td>
<td><code>1</code></td>
</tr>
</tbody>
</table>
<p><strong>Optional columns:</strong></p>
<table class="table caption-top" style="width:100%;">
<colgroup>
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 33%">
<col style="width: 22%">
</colgroup>
<thead><tr class="header">
<th>Column</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>variableLabel</code></td>
<td>character</td>
<td>Short human-readable description</td>
<td><code>"Age in years"</code></td>
</tr>
<tr class="even">
<td><code>variableLabelLong</code></td>
<td>character</td>
<td>Extended description</td>
<td><code>"Participant age at baseline interview"</code></td>
</tr>
<tr class="odd">
<td><code>variableUnit</code></td>
<td>character</td>
<td>Unit of measurement</td>
<td><code>"years"</code></td>
</tr>
<tr class="even">
<td><code>notes</code></td>
<td>character</td>
<td>Implementation notes</td>
<td><code>"Rounded to nearest integer"</code></td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre class="csv"><code>uid,variable,role,variableType,variableLabel,position
age_v1,age,enabled,continuous,Age in years,1
smoking_v1,smoking,enabled,categorical,Smoking status,2
birth_date_v1,birth_date,baseline-date,continuous,Date of birth,3</code></pre>
<p><strong>Note:</strong> Dates use <code>variableType = "continuous"</code> with a date-related <code>role</code> for compatibility with recodeflow metadata.</p>
</section><section class="level3"><h3 id="mock_data_config_details-csv">mock_data_config_details.csv<a class="anchor" aria-label="anchor" href="#mock_data_config_details-csv"></a>
</h3>
<p><strong>Purpose:</strong> Defines categories, ranges, proportions, and data quality patterns</p>
<p><strong>Required columns:</strong></p>
<table class="table caption-top" style="width:100%;">
<colgroup>
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 33%">
<col style="width: 22%">
</colgroup>
<thead><tr class="header">
<th>Column</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>uid</code></td>
<td>character</td>
<td>Must match uid in config file</td>
<td><code>"age_v1"</code></td>
</tr>
<tr class="even">
<td><code>uid_detail</code></td>
<td>character</td>
<td>Unique identifier for this detail row</td>
<td><code>"age_v1_d1"</code></td>
</tr>
<tr class="odd">
<td><code>variable</code></td>
<td>character</td>
<td>Must match variable in config file</td>
<td><code>"age"</code></td>
</tr>
<tr class="even">
<td><code>recStart</code></td>
<td>character</td>
<td>Input value or range</td>
<td><code>"[18, 100]"</code></td>
</tr>
<tr class="odd">
<td><code>recEnd</code></td>
<td>character</td>
<td>Output value or special code</td>
<td><code>"copy"</code></td>
</tr>
</tbody>
</table>
<p><strong>Optional but commonly used columns:</strong></p>
<table class="table caption-top" style="width:100%;">
<colgroup>
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 33%">
<col style="width: 22%">
</colgroup>
<thead><tr class="header">
<th>Column</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>catLabel</code></td>
<td>character</td>
<td>Short label for this category</td>
<td><code>"Valid age"</code></td>
</tr>
<tr class="even">
<td><code>catLabelLong</code></td>
<td>character</td>
<td>Extended category description</td>
<td><code>"Age in years at baseline"</code></td>
</tr>
<tr class="odd">
<td><code>proportion</code></td>
<td>numeric</td>
<td>Proportion (0-1), must sum to 1.0 per variable</td>
<td><code>0.95</code></td>
</tr>
<tr class="even">
<td><code>rType</code></td>
<td>character</td>
<td>R data type for output (“integer”, “factor”, “Date”, “double”)</td>
<td><code>"integer"</code></td>
</tr>
<tr class="odd">
<td><code>date_start</code></td>
<td>Date</td>
<td>Start date (for date variables with <code>recEnd = "date_start"</code>)</td>
<td><code>"2001-01-01"</code></td>
</tr>
<tr class="even">
<td><code>date_end</code></td>
<td>Date</td>
<td>End date (for date variables with <code>recEnd = "date_end"</code>)</td>
<td><code>"2017-03-31"</code></td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre class="csv"><code>uid,uid_detail,variable,recStart,recEnd,catLabel,catLabelLong,proportion,rType
age_v1,age_v1_d1,age,[18,100],copy,Valid age,Age in years,0.93,integer
age_v1,age_v1_d2,age,999,NA::b,Missing,Not stated,0.05,integer
age_v1,age_v1_d3,age,[200,300],corrupt_high,Invalid age,Data entry error,0.02,integer
smoking_v1,smoking_v1_d1,smoking,1,1,Daily,Daily smoker,0.25,factor
smoking_v1,smoking_v1_d2,smoking,2,2,Occasional,Occasional smoker,0.15,factor
smoking_v1,smoking_v1_d3,smoking,3,3,Never,Never smoked,0.60,factor</code></pre>
</section></section><section class="level2"><h2 id="special-codes-in-recend">Special codes in recEnd<a class="anchor" aria-label="anchor" href="#special-codes-in-recend"></a>
</h2>
<section class="level3"><h3 id="missing-data-codes">Missing data codes<a class="anchor" aria-label="anchor" href="#missing-data-codes"></a>
</h3>
<p><strong>Note on <code>NA::</code> codes:</strong> These codes (<code>NA::a</code>, <code>NA::b</code>, <code>NA::c</code>) are part of the recodeflow harmonization framework, where they indicate how missing codes should be transformed during harmonization. When generating <strong>raw mock data</strong>, we use numeric missing codes that match the raw survey data format. However, the <code>NA::</code> notation is handy in metadata because:</p>
<ul>
<li>It documents the <strong>meaning</strong> of numeric missing codes</li>
<li>The same metadata can be reused for both mock data generation (outputs numeric codes) and harmonization (converts codes to proper R NA types)</li>
<li>It maintains consistency between raw data simulation and the harmonization pipeline</li>
</ul>
<table class="table caption-top">
<colgroup>
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 56%">
</colgroup>
<thead><tr class="header">
<th>Code</th>
<th>Meaning</th>
<th>Example raw data codes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>NA::a</code></td>
<td>Not applicable</td>
<td>Variable doesn’t apply to this person (e.g., pregnancy questions for males). CCHS/CHMS often use 996.</td>
</tr>
<tr class="even">
<td><code>NA::b</code></td>
<td>Missing/refused</td>
<td>Participant refused to answer or data is missing. CCHS/CHMS often use 999.</td>
</tr>
<tr class="odd">
<td><code>NA::c</code></td>
<td>Don’t know</td>
<td>Participant doesn’t know the answer. CCHS/CHMS often use 998 or 997.</td>
</tr>
</tbody>
</table>
<p><strong>Important</strong>: The specific numeric codes (996, 997, 998, 999) shown in examples are from CCHS/CHMS surveys documented in this package. Your database may use different codes: - Some surveys use single digits: 7, 8, 9 - Some use three digits: 997, 998, 999 - Some use ranges: [96, 99] - Check your survey’s data dictionary for the actual codes used</p>
<p>The <code>NA::</code> notation works with any numeric coding scheme - just specify the appropriate numeric codes in <code>recStart</code>.</p>
<p><strong>Example - generates numeric codes in raw mock data:</strong></p>
<pre class="csv"><code>variable,recStart,recEnd,catLabel,proportion
alcohol_weekly,[0,100],copy,Drinks per week,0.85
alcohol_weekly,996,NA::a,Not applicable,0.10
alcohol_weekly,999,NA::b,Missing,0.05</code></pre>
<p>This will generate raw data with numeric values 0-100, 996, and 999. During harmonization with recodeflow, the 996 and 999 codes will be converted to proper R NA values based on the <code>NA::a</code> and <code>NA::b</code> specifications.</p>
</section><section class="level3"><h3 id="value-transformation-codes">Value transformation codes<a class="anchor" aria-label="anchor" href="#value-transformation-codes"></a>
</h3>
<table class="table caption-top">
<colgroup>
<col style="width: 27%">
<col style="width: 40%">
<col style="width: 31%">
</colgroup>
<thead><tr class="header">
<th>Code</th>
<th>Meaning</th>
<th>Usage</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>copy</code></td>
<td>Pass through unchanged</td>
<td>Use with ranges like <code>[0, 100]</code> - generates values in range</td>
</tr>
<tr class="even">
<td><code>date_start</code></td>
<td>Extract date_start column</td>
<td>For date variables: marks the row containing start date</td>
</tr>
<tr class="odd">
<td><code>date_end</code></td>
<td>Extract date_end column</td>
<td>For date variables: marks the row containing end date</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre class="csv"><code>variable,recStart,recEnd,catLabel,date_start,date_end,proportion
index_date,NA,date_start,Start date,2001-01-01,,1.0
index_date,NA,date_end,End date,,2017-03-31,1.0</code></pre>
</section><section class="level3"><h3 id="garbagedata-quality-codes">Garbage/data quality codes<a class="anchor" aria-label="anchor" href="#garbagedata-quality-codes"></a>
</h3>
<table class="table caption-top">
<colgroup>
<col style="width: 27%">
<col style="width: 40%">
<col style="width: 31%">
</colgroup>
<thead><tr class="header">
<th>Code</th>
<th>Meaning</th>
<th>Usage</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>corrupt_low</code></td>
<td>Below valid range</td>
<td>Generate values lower than expected (e.g., age = -5)</td>
</tr>
<tr class="even">
<td><code>corrupt_high</code></td>
<td>Above valid range</td>
<td>Generate values higher than expected (e.g., age = 250)</td>
</tr>
<tr class="odd">
<td><code>corrupt_future</code></td>
<td>Future dates</td>
<td>For date variables: dates after valid range</td>
</tr>
<tr class="even">
<td><code>corrupt_past</code></td>
<td>Past dates</td>
<td>For date variables: dates before valid range</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre class="csv"><code>variable,recStart,recEnd,catLabel,proportion
age,[18,100],copy,Valid age,0.95
age,[200,300],corrupt_high,Invalid age,0.03
age,[-10,0],corrupt_low,Negative age,0.02</code></pre>
<p><strong>Important:</strong> Garbage proportions are SEPARATE from valid+missing proportions. MockData first allocates values to valid vs missing (which must sum to 1.0), then applies garbage to a subset of the valid values.</p>
</section></section><section class="level2"><h2 id="recstart-syntax">recStart syntax<a class="anchor" aria-label="anchor" href="#recstart-syntax"></a>
</h2>
<section class="level3"><h3 id="single-values">Single values<a class="anchor" aria-label="anchor" href="#single-values"></a>
</h3>
<pre class="csv"><code>recStart,recEnd,Meaning
1,1,Value 1
2,2,Value 2
999,NA::b,Code 999 becomes missing</code></pre>
</section><section class="level3"><h3 id="ranges">Ranges<a class="anchor" aria-label="anchor" href="#ranges"></a>
</h3>
<p><strong>Inclusive ranges</strong> (both endpoints included):</p>
<pre class="csv"><code>recStart,Meaning
[0,100],Values from 0 to 100 inclusive
[18.5,25),Values from 18.5 (inclusive) to 25 (exclusive)</code></pre>
<p><strong>Range notation:</strong></p>
<ul>
<li>
<code>[a, b]</code>: Inclusive on both ends (a ≤ x ≤ b)</li>
<li>
<code>[a, b)</code>: Inclusive start, exclusive end (a ≤ x &lt; b)</li>
<li>
<code>(a, b]</code>: Exclusive start, inclusive end (a &lt; x ≤ b)</li>
<li>
<code>(a, b)</code>: Exclusive on both ends (a &lt; x &lt; b)</li>
</ul>
<p><strong>For categorical variables:</strong> Ranges expand to all integer values</p>
<pre class="csv"><code>recStart,recEnd,Expands to
[1,5],copy,"1, 2, 3, 4, 5"</code></pre>
<p><strong>For continuous variables:</strong> Ranges define sampling bounds</p>
<pre class="csv"><code>recStart,recEnd,Generates
[0,100],copy,Random values uniformly distributed between 0 and 100</code></pre>
</section><section class="level3"><h3 id="date-format">Date format<a class="anchor" aria-label="anchor" href="#date-format"></a>
</h3>
<p><strong>Raw data format:</strong> Real survey data (like CCHS/CHMS) stores dates in SAS format (e.g., <code>01JAN2001</code>). MockData can parse these formats in <code>recStart</code>:</p>
<pre class="csv"><code>recStart,recEnd,Meaning
[01JAN2001,31MAR2017],copy,Dates between Jan 1 2001 and Mar 31 2017</code></pre>
<p><strong>Output format controlled by <code>source_format</code> parameter:</strong></p>
<p>By default, MockData generates dates as <strong>R Date objects</strong> (analysis-ready format). However, you can simulate different source formats to test harmonization pipelines:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Default: analysis-ready R Date objects</span></span>
<span><span class="va">mock</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_mock_data.html">create_mock_data</a></span><span class="op">(</span><span class="va">...</span>, source_format <span class="op">=</span> <span class="st">"analysis"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># CSV format: character ISO strings</span></span>
<span><span class="va">mock_csv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_mock_data.html">create_mock_data</a></span><span class="op">(</span><span class="va">...</span>, source_format <span class="op">=</span> <span class="st">"csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># SAS format: numeric (days since 1960-01-01)</span></span>
<span><span class="va">mock_sas</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_mock_data.html">create_mock_data</a></span><span class="op">(</span><span class="va">...</span>, source_format <span class="op">=</span> <span class="st">"sas"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Format options:</strong></p>
<ul>
<li>
<code>"analysis"</code> (default): R Date objects - ready for analysis</li>
<li>
<code>"csv"</code>: Character strings (<code>"2001-01-15"</code>) - simulates <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv()</a></code> output</li>
<li>
<code>"sas"</code>: Numeric values (days since 1960-01-01) - simulates <code>haven::read_sas()</code> output</li>
</ul>
<p><strong>Use case:</strong> Testing harmonization code that needs to parse dates from raw sources:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate CSV-format mock data</span></span>
<span><span class="va">mock_csv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_mock_data.html">create_mock_data</a></span><span class="op">(</span><span class="va">...</span>, source_format <span class="op">=</span> <span class="st">"csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Test your date parsing logic</span></span>
<span><span class="va">harmonized</span> <span class="op">&lt;-</span> <span class="va">mock_csv</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>interview_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">interview_date</span>, format <span class="op">=</span> <span class="st">"%Y-%m-%d"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>See <a href="dates.html#source-format-simulating-raw-data-imports">Date variables and temporal data</a> for detailed examples.</p>
<p><strong>Alternative approach using <code>date_start</code>/<code>date_end</code> columns:</strong></p>
<pre class="csv"><code>variable,recStart,recEnd,date_start,date_end,proportion
death_date,NA,date_start,2001-01-01,,1.0
death_date,NA,date_end,,2017-03-31,1.0</code></pre>
<p>Both metadata approaches (SAS format in <code>recStart</code> vs. <code>date_start</code>/<code>date_end</code> columns) work with all <code>source_format</code> options.</p>
</section></section><section class="level2"><h2 id="proportions">Proportions<a class="anchor" aria-label="anchor" href="#proportions"></a>
</h2>
<section class="level3"><h3 id="basic-rules">Basic rules<a class="anchor" aria-label="anchor" href="#basic-rules"></a>
</h3>
<ol type="1">
<li>
<strong>Must sum to 1.0 per variable</strong> (excluding garbage rows)</li>
<li>
<strong>Garbage proportions are separate</strong> from valid/missing proportions</li>
<li>
<strong>Applies to population before garbage</strong> is added</li>
</ol></section><section class="level3"><h3 id="categorical-variables">Categorical variables<a class="anchor" aria-label="anchor" href="#categorical-variables"></a>
</h3>
<pre class="csv"><code>variable,recStart,recEnd,catLabel,proportion
smoking,1,1,Daily,0.25
smoking,2,2,Occasional,0.15
smoking,3,3,Never,0.55
smoking,999,NA::b,Missing,0.05</code></pre>
<p><strong>Sum check:</strong> 0.25 + 0.15 + 0.55 + 0.05 = 1.0 ✓</p>
</section><section class="level3"><h3 id="continuous-variables">Continuous variables<a class="anchor" aria-label="anchor" href="#continuous-variables"></a>
</h3>
<pre class="csv"><code>variable,recStart,recEnd,catLabel,proportion
age,[18,100],copy,Valid age,0.95
age,999,NA::b,Missing,0.05</code></pre>
<p><strong>Interpretation:</strong></p>
<ul>
<li>95% of values: sampled uniformly from [18, 100]</li>
<li>5% of values: set to 999, then converted to NA</li>
</ul></section><section class="level3"><h3 id="with-garbage">With garbage<a class="anchor" aria-label="anchor" href="#with-garbage"></a>
</h3>
<pre class="csv"><code>variable,recStart,recEnd,catLabel,proportion
age,[18,100],copy,Valid age,0.95
age,999,NA::b,Missing,0.05
age,[200,300],corrupt_high,Invalid,0.02</code></pre>
<p><strong>Process:</strong></p>
<ol type="1">
<li>Generate population: 95% valid (18-100), 5% missing (999→NA)</li>
<li>Apply garbage: Replace 2% of valid values with corrupt_high (200-300)</li>
</ol>
<p><strong>Result:</strong> ~93% valid, ~5% missing, ~2% garbage</p>
</section></section><section class="level2"><h2 id="validation-rules">Validation rules<a class="anchor" aria-label="anchor" href="#validation-rules"></a>
</h2>
<section class="level3"><h3 id="configuration-file-validation">Configuration file validation<a class="anchor" aria-label="anchor" href="#configuration-file-validation"></a>
</h3>
<p><strong>Checked by <code><a href="../reference/validate_mock_data_config.html">validate_mock_data_config()</a></code>:</strong></p>
<ol type="1">
<li>Required columns present: <code>variable</code>, <code>variableType</code>, <code>variableLabel</code>
</li>
<li>
<code>variableType</code> must be one of: <code>"categorical"</code>, <code>"continuous"</code>, <code>"date"</code>
</li>
<li>No duplicate variable names</li>
<li>No empty variable names</li>
</ol></section><section class="level3"><h3 id="details-file-validation">Details file validation<a class="anchor" aria-label="anchor" href="#details-file-validation"></a>
</h3>
<p><strong>Checked by <code><a href="../reference/validate_mock_data_config_details.html">validate_mock_data_config_details()</a></code>:</strong></p>
<ol type="1">
<li>Required columns present: <code>variable</code>, <code>recStart</code>, <code>recEnd</code>, <code>catLabel</code>, <code>proportion</code>
</li>
<li>All variables in details exist in config file</li>
<li>Proportions are numeric and between 0 and 1</li>
<li>Proportions sum to 1.0 per variable (excluding garbage rows)</li>
<li>No duplicate <code>recStart</code> values per variable</li>
<li>Range notation is well-formed</li>
<li>Special codes are valid</li>
</ol></section><section class="level3"><h3 id="cross-file-validation">Cross-file validation<a class="anchor" aria-label="anchor" href="#cross-file-validation"></a>
</h3>
<p><strong>Checked during generation:</strong></p>
<ol type="1">
<li>Every variable in config has at least one row in details</li>
<li>Variable types match usage (e.g., date variables use date_start/date_end)</li>
<li>Garbage rows have valid proportion values</li>
<li>Date ranges are valid dates</li>
</ol></section></section><section class="level2"><h2 id="common-patterns">Common patterns<a class="anchor" aria-label="anchor" href="#common-patterns"></a>
</h2>
<section class="level3"><h3 id="pattern-1-simple-categorical">Pattern 1: Simple categorical<a class="anchor" aria-label="anchor" href="#pattern-1-simple-categorical"></a>
</h3>
<pre class="csv"><code># Config
uid,variable,role,variableType,variableLabel,position
sex_v1,sex,enabled,categorical,Biological sex,1

# Details
uid,uid_detail,variable,recStart,recEnd,catLabel,proportion,rType
sex_v1,sex_v1_d1,sex,1,1,Male,0.48,factor
sex_v1,sex_v1_d2,sex,2,2,Female,0.52,factor</code></pre>
</section><section class="level3"><h3 id="pattern-2-continuous-with-missing">Pattern 2: Continuous with missing<a class="anchor" aria-label="anchor" href="#pattern-2-continuous-with-missing"></a>
</h3>
<pre class="csv"><code># Config
uid,variable,role,variableType,variableLabel,variableUnit,position
bmi_v1,bmi,enabled,continuous,Body mass index,kg/m²,1

# Details
uid,uid_detail,variable,recStart,recEnd,catLabel,proportion,rType
bmi_v1,bmi_v1_d1,bmi,[15,50],copy,Valid BMI,0.95,double
bmi_v1,bmi_v1_d2,bmi,999,NA::b,Missing,0.05,double</code></pre>
</section><section class="level3"><h3 id="pattern-3-date-variable-with-range">Pattern 3: Date variable with range<a class="anchor" aria-label="anchor" href="#pattern-3-date-variable-with-range"></a>
</h3>
<pre class="csv"><code># Config
uid,variable,role,variableType,variableLabel,position
index_date_v1,index_date,index-date,continuous,Cohort entry date,1

# Details
uid,uid_detail,variable,recStart,recEnd,catLabel,date_start,date_end,proportion,rType
index_date_v1,index_date_v1_d1,index_date,NA,date_start,Start,2001-01-01,,1.0,Date
index_date_v1,index_date_v1_d2,index_date,NA,date_end,End,,2017-03-31,1.0,Date</code></pre>
</section><section class="level3"><h3 id="pattern-4-with-data-quality-issues">Pattern 4: With data quality issues<a class="anchor" aria-label="anchor" href="#pattern-4-with-data-quality-issues"></a>
</h3>
<pre class="csv"><code># Config
uid,variable,role,variableType,variableLabel,position
age_v1,age,enabled,continuous,Age in years,1

# Details
uid,uid_detail,variable,recStart,recEnd,catLabel,proportion,rType
age_v1,age_v1_d1,age,[18,100],copy,Valid age,0.93,integer
age_v1,age_v1_d2,age,999,NA::b,Missing,0.05,integer
age_v1,age_v1_d3,age,[150,250],corrupt_high,Too high,0.01,integer
age_v1,age_v1_d4,age,[-5,0],corrupt_low,Negative,0.01,integer</code></pre>
</section></section><section class="level2"><h2 id="complete-example">Complete example<a class="anchor" aria-label="anchor" href="#complete-example"></a>
</h2>
<p>Here’s a complete two-file configuration for a simple cohort study:</p>
<p><strong>mock_data_config.csv:</strong></p>
<pre class="csv"><code>uid,variable,role,variableType,variableLabel,variableUnit,position
person_id_v1,person_id,enabled,continuous,Person ID,,1
age_v1,age,enabled,continuous,Age at baseline,years,2
sex_v1,sex,enabled,categorical,Biological sex,,3
smoking_v1,smoking,enabled,categorical,Smoking status,,4
index_date_v1,index_date,index-date,continuous,Cohort entry date,,5
death_date_v1,death_date,outcome-date,continuous,Death date,,6</code></pre>
<p><strong>mock_data_config_details.csv:</strong></p>
<pre class="csv"><code>uid,uid_detail,variable,recStart,recEnd,catLabel,date_start,date_end,proportion,rType
person_id_v1,person_id_v1_d1,person_id,[1,100000],copy,Person ID,,,1.0,integer
age_v1,age_v1_d1,age,[18,100],copy,Valid age,,,0.93,integer
age_v1,age_v1_d2,age,999,NA::b,Missing,,,0.05,integer
age_v1,age_v1_d3,age,[150,200],corrupt_high,Invalid age,,,0.02,integer
sex_v1,sex_v1_d1,sex,1,1,Male,,,0.48,factor
sex_v1,sex_v1_d2,sex,2,2,Female,,,0.52,factor
smoking_v1,smoking_v1_d1,smoking,1,1,Daily,,,0.25,factor
smoking_v1,smoking_v1_d2,smoking,2,2,Occasional,,,0.15,factor
smoking_v1,smoking_v1_d3,smoking,3,3,Never,,,0.55,factor
smoking_v1,smoking_v1_d4,smoking,999,NA::b,Missing,,,0.05,factor
index_date_v1,index_date_v1_d1,index_date,NA,date_start,Start,2001-01-01,,1.0,Date
index_date_v1,index_date_v1_d2,index_date,NA,date_end,End,,2017-03-31,1.0,Date
death_date_v1,death_date_v1_d1,death_date,NA,date_start,Start,2001-01-01,,1.0,Date
death_date_v1,death_date_v1_d2,death_date,NA,date_end,End,,2025-12-31,1.0,Date</code></pre>
<p><strong>Generate the data:</strong></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://big-life-lab.github.io/MockData/">MockData</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">mock_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_mock_data.html">create_mock_data</a></span><span class="op">(</span></span>
<span>  config_path <span class="op">=</span> <span class="st">"mock_data_config.csv"</span>,</span>
<span>  details_path <span class="op">=</span> <span class="st">"mock_data_config_details.csv"</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">123</span></span>
<span><span class="op">)</span></span></code></pre></div>
</section><section class="level2"><h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<ul>
<li>
<a href="getting-started.html">Getting started</a> - Tutorial for creating your first mock dataset</li>
<li>
<a href="user-guide.html">User guide</a> - Complete feature documentation</li>
<li>
<a href="advanced-topics.html">Advanced topics</a> - Technical details and edge cases</li>
</ul></section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>
Developed by Juan Li and recodeflow contributors.
</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
